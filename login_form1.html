<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style>
<div{
	margin: 30px;
	width: 500px;
}
#justify{
	text-align:justify;
}
#center{
	text-align: center;
}
</style>
<title>무제 문서</title>
<script type="text/javascript">
    var xhr = null;
    function getXMLHttpRequest() { // XMLHttpRequest 객체 얻기
        if (window.ActiveXObject) {
            try {
                return new ActiveXObject("Msxml2.XMLHTTP"); //IE 상위 버젼
            }
            catch (e1) {
                try {
                    return new ActiveXObject("Microsoft.XMLHTTP"); //IE 하위 버젼
                }
                catch (e2) {
                    return null;
                }
            }
        }
        else if (window.XMLHttpRequest) {
            return new XMLHttpRequest(); //IE 이외의 브라우저(FireFox 등)
        }
        else {
            return null;
        }
    } 

    function ajaxSubmit() {
        xhr = getXMLHttpRequest();
        xhr.onreadystatechange = ajaxResult;        //아래의 ajaxResult()를 호출
        xhr.open("POST", "login.php", true);    //POST방식으로 login.php를 호출
        var postData = "uid=" + document.getElementById("m_uid").value;//document.LoginForm.uid.value;        //POST로 넘길 파라미터들..
        postData += "&upw=" + document.getElementById("m_upw").value;//LoginForm.upw.value;
        xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=euc-kr");
        xhr.send(postData);
    }    

    function ajaxResult() {
        if(xhr.readyState == 4) { //완료될경우
            if(xhr.status == 200) { //오류없으면
                var str = xhr.responseText; 
                if(str == 't') { 
				location.replace('test.html'); }
                else { alert("아이디 또는 비밀번호가 틀립니다."); }

    //서버에서 보낸 내용 받아서 alert
            }/*
            else {
                alert("Fail : " + xhr.status);
            }*/
        }
    }
</script>

<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css"/>
<script src="http://code.jquery.com/jquery-1.6.4.min.js">
</script>
<script src="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.js"></script>
</head>
<html>
<title> Login </title>
<body>
<div id="center">
<h1>로그인</h1>
<form name="LoginForm">

<div data-role="fieldcontain">
<div>아이디 : <input type="text" name="uid" id="m_uid" ></div></div>

<div data-role="fieldcontain">
<div>비밀번호 : <input type="password" name="upw" id="m_upw"></div></div>

<input type="button" value="로그인" onclick="javascript:ajaxSubmit()" data-inline="true">

<a href = "member1.html"> 
<input type = "button" value = "회원가입" data-inline="true"></a>
</form>
</div>
</body>
</html>

